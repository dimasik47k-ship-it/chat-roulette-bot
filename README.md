# 🎲 Telegram Chat Roulette Bot

<div align="center">

![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)
![Node](https://img.shields.io/badge/node-%3E%3D18.0.0-brightgreen.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)
![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)

**Продвинутый Telegram-бот для случайного общения с интеллектуальным matchmaking и AI-модерацией**

[Быстрый старт](#-быстрый-старт) • [Функции](#-функции) • [Документация](#-документация) • [Поддержка](#-поддержка)

</div>

---

## 📋 Содержание

- [О проекте](#-о-проекте)
- [Функции](#-функции)
- [Быстрый старт](#-быстрый-старт)
- [Архитектура](#-архитектура)
- [Технологии](#-технологии)
- [Документация](#-документация)
- [Развертывание](#-развертывание)
- [Безопасность](#-безопасность)
- [Вклад в проект](#-вклад-в-проект)
- [Лицензия](#-лицензия)
- [Поддержка](#-поддержка)

## 🎯 О проекте

Telegram Chat Roulette Bot - это полнофункциональная платформа для анонимного общения с случайными собеседниками. Бот использует продвинутые алгоритмы подбора, AI-модерацию контента и систему геймификации для создания безопасной и увлекательной среды общения.

### Ключевые особенности

- 🎲 **Умный Matchmaking** - подбор собеседников по 9+ параметрам
- 🤖 **Moder AI** - собственная AI-модерация без внешних зависимостей
- 🔒 **Безопасность** - многоуровневая защита и система жалоб
- 🌍 **Мультиязычность** - поддержка 8 языков
- 🏆 **Геймификация** - уровни, достижения, репутация
- 💰 **Монетизация** - 3 уровня Premium подписок
- 📊 **Аналитика** - детальная статистика и метрики

## 🌟 Функции

### Основные возможности

#### 🎲 Чат-рулетка
- Случайное соединение 1 на 1
- Быстрый и фильтрованный поиск
- Кнопки "Следующий" и "Завершить"
- Очередь с приоритетами
- Таймаут поиска (60 сек)

#### 🧠 Умный Matchmaking
- Фильтр по языку (8 языков)
- Фильтр по возрастной группе (5 групп)
- Фильтр по стране/региону
- Фильтр по интересам (до 10 тегов)
- Опция "только новые люди"
- Система совместимости (scoring)
- Исключение черного списка

#### � Типы сообщений
- ✅ Текст
- 📷 Фотографии
- 🎤 Голосовые сообщения
- 🎨 Стикеры
- 🎬 GIF анимации
- 🎥 Видео-сообщения (кружочки)

### Безопасность

#### 🔒 AI-модерация (Moder AI)
- Детектор токсичности (NLP)
- Детектор спама
- ML классификация
- Интеграция с HuggingFace (опционально)
- Автоматическая блокировка

#### 🚫 Система защиты
- Жалобы (6 типов)
- Автоматические баны
- Временный бан (24ч при 3 жалобах)
- Перманентный бан (при 5+ жалобах)
- Теневой бан
- Черный список
- Анти-флуд (5 запросов/10 сек)

### Социальные функции

#### 🌟 Взаимодействие
- Избранное (сохранение собеседников)
- Система оценок (1-5 звезд)
- Кнопка "Нравится"
- История чатов
- Репутация

#### 🏆 Геймификация
- Система уровней (опыт за активность)
- 10+ достижений
- Прогресс-бар
- Награды за активность

### Premium подписки

#### 💎 Тарифы
- **Basic** (99₽/мес): приоритет, фильтр пола, без рекламы
- **Pro** (199₽/мес): + невидимый режим, больше фильтров, 2x опыта
- **VIP** (399₽/мес): + VIP значок, приоритетная поддержка, эксклюзивы

## 🚀 Быстрый старт

### Требования

- Node.js 18+
- PostgreSQL 15+
- Redis 7+
- Telegram Bot Token

### Установка

```bash
# 1. Клонировать репозиторий
git clone https://github.com/your-username/telegram-chatroulette-bot.git
cd telegram-chatroulette-bot

# 2. Установить зависимости
npm install

# 3. Настроить окружение
cp .env.example .env
# Отредактируйте .env файл

# 4. Создать базу данных
createdb chatroulette_bot

# 5. Запустить миграции
npm run migrate

# 6. Запустить бота
npm run dev
```

### Docker (рекомендуется)

```bash
# 1. Настроить .env
cp .env.example .env

# 2. Запустить
docker-compose up -d

# 3. Проверить логи
docker-compose logs -f bot
```

Подробнее: [QUICKSTART.md](QUICKSTART.md)

## 🏗️ Архитектура

```
┌─────────────────────────────────────────────────────────┐
│                    Telegram Bot API                      │
└────────────────────┬────────────────────────────────────┘
                     │
         ┌───────────▼───────────┐
         │   Bot Controller      │
         └───────────┬───────────┘
                     │
    ┌────────────────┼────────────────┐
    │                │                │
┌───▼────┐    ┌─────▼─────┐   ┌─────▼──────┐
│Command │    │ Callback  │   │  Message   │
│Handler │    │  Handler  │   │  Handler   │
└───┬────┘    └─────┬─────┘   └─────┬──────┘
    │               │               │
    └───────────────┼───────────────┘
                    │
    ┌───────────────┼───────────────┐
    │               │               │
┌───▼────────┐ ┌───▼──────┐ ┌─────▼────────┐
│Matchmaking │ │Moderation│ │Chat Service  │
│  Service   │ │ (Moder AI)│ │              │
└───┬────────┘ └───┬──────┘ └─────┬────────┘
    │              │              │
    └──────────────┼──────────────┘
                   │
    ┌──────────────┼──────────────┐
    │              │              │
┌───▼────┐    ┌───▼────┐    ┌───▼────┐
│PostgreSQL│   │ Redis  │    │ Logger │
└─────────┘    └────────┘    └────────┘
```

Подробнее: [ARCHITECTURE.md](ARCHITECTURE.md)

## 🔧 Технологии

### Backend
- **Node.js 18+** - runtime
- **Express** - HTTP сервер
- **node-telegram-bot-api** - Telegram Bot API

### База данных
- **PostgreSQL 15+** - основная БД (10+ таблиц)
- **Redis 7+** - кэш, очереди, Pub/Sub

### AI & NLP
- **Natural.js** - обработка естественного языка
- **Compromise** - текстовый анализ
- **HuggingFace API** - опциональная интеграция

### Инструменты
- **Docker** - контейнеризация
- **ESLint** - линтинг
- **Prettier** - форматирование

## 📚 Документация

- 📖 [Быстрый старт](QUICKSTART.md) - запуск за 5 минут
- 🏗️ [Архитектура](ARCHITECTURE.md) - детальное описание системы
- 🌟 [Функции](FEATURES.md) - полный список возможностей (200+)
- 📡 [API](API.md) - документация API
- 🚀 [Развертывание](DEPLOYMENT.md) - production deployment
- ❓ [FAQ](FAQ.md) - часто задаваемые вопросы
- 🔒 [Безопасность](SECURITY.md) - политика безопасности
- 📁 [Структура](PROJECT_STRUCTURE.md) - структура проекта

## 🚀 Развертывание

### Development
```bash
npm run dev
```

### Production (Docker)
```bash
docker-compose up -d
```

### Cloud Platforms
- **Heroku**: `git push heroku main`
- **Railway**: автоматический деплой из GitHub
- **AWS/GCP**: см. [DEPLOYMENT.md](DEPLOYMENT.md)

## 🔒 Безопасность

### Защита данных
- ✅ Хеширование паролей (bcrypt)
- ✅ Шифрование чувствительных данных
- ✅ Защита от SQL injection
- ✅ Валидация входных данных

### Защита от атак
- ✅ Анти-флуд система
- ✅ Rate limiting
- ✅ CSRF защита
- ✅ XSS защита

### Модерация
- ✅ AI-модерация контента
- ✅ Автоматические баны
- ✅ Система жалоб
- ✅ Черный список

Подробнее: [SECURITY.md](SECURITY.md)

## 🤝 Вклад в проект

Мы приветствуем вклад сообщества! 

1. Fork репозитория
2. Создайте ветку: `git checkout -b feature/amazing-feature`
3. Commit изменения: `git commit -m 'Add amazing feature'`
4. Push в ветку: `git push origin feature/amazing-feature`
5. Откройте Pull Request

Подробнее: [CONTRIBUTING.md](CONTRIBUTING.md)

## 📝 Лицензия

Проект распространяется под лицензией MIT. См. [LICENSE](LICENSE) для деталей.

## 💬 Поддержка

### Контакты
- 📧 Email: support@example.com
- 💬 Telegram: [@support_bot](https://t.me/support_bot)
- 🐛 Issues: [GitHub Issues](https://github.com/your-username/telegram-chatroulette-bot/issues)

### Сообщество
- 📢 Канал: [@chatroulette_news](https://t.me/chatroulette_news)
- 👥 Группа: [@chatroulette_chat](https://t.me/chatroulette_chat)

### Разработчики
- 🐙 GitHub: [github.com/chatroulette-bot](https://github.com/chatroulette-bot)
- 📧 Email: dev@example.com

---

<div align="center">

**Сделано с ❤️ для сообщества Telegram**

⭐ Поставьте звезду, если проект вам понравился!

[⬆ Наверх](#-telegram-chat-roulette-bot)

</div>
